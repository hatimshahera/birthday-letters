<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Your Letters</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <h1>Your Special Letters ðŸ’Œ</h1>
        <p>Each letter is locked until you enter the right answer!</p>

        <div id="letters-container">
            <div class="letter">
                <p>Letter 1</p>
                <input type="text" id="q1" placeholder="Enter answer">
                <button onclick="unlockLetter(1, 'ourfirstdate')">Unlock</button>
                <a id="link1" href="letter1.html" target="_blank" style="display:none;">Read Letter</a>
            </div>

            <div class="letter">
                <p>Letter 2</p>
                <input type="text" id="q2" placeholder="Enter answer">
                <button onclick="unlockLetter(2, 'favouritecolor')">Unlock</button>
                <a id="link2" href="letter2.html" target="_blank" style="display:none;">Read Letter</a>
            </div>

            <!-- Add more letters as needed -->
        </div>
    </div>

    <script>
        function checkLogin() {
            if (localStorage.getItem("authenticated") !== "true") {
                window.location.href = "index.html"; // Redirect if not logged in
            }
        }

        function unlockLetter(letterNumber, correctAnswer) {
            const inputId = `q${letterNumber}`;
            const linkId = `link${letterNumber}`;
            const userAnswer = document.getElementById(inputId).value.toLowerCase();

            if (userAnswer === correctAnswer) {
                document.getElementById(linkId).style.display = "block";
                localStorage.setItem(`letter${letterNumber}_unlocked`, "true"); // Save unlock status
            } else {
                alert("Try again, my love! ðŸ’•");
            }
        }
        function checkUnlockedLetters() {
            for (let i = 1; i <= 24; i++) { // Loop through all letters
                if (localStorage.getItem(`letter${i}_unlocked`) === "true") {
                    document.getElementById(`link${i}`).style.display = "block";
                }
            }
        }
        checkUnlockedLetters();
        checkLogin(); // Ensure only logged-in users can access this page
    </script>
</body>
</html>
